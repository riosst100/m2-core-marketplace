<?php
/**
 * Landofcoder
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Landofcoder.com license that is
 * available through the world-wide-web at this URL:
 * https://landofcoder.com/terms
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category   Landofcoder
 * @package    Lof_MarketPlace
 * @copyright  Copyright (c) 2021 Landofcoder (https://www.landofcoder.com/)
 * @license    https://landofcoder.com/terms
 */

// phpcs:disable Magento2.Templates.ThisInTemplate
// phpcs:disable Magento2.Security.XssTemplate.FoundNotAllowed
// phpcs:disable Generic.Files.LineLength.TooLong
/**
 * @var $block Lof\MarketPlace\Block\Seller\Review\View
 */

$helper = $this->helper(\Lof\MarketPlace\Helper\Data::class);
$formActionUrl = $this->getUrl('catalog/seller/saverating');
$currPageUrl = $helper->getCurrentUrls();
?>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2><?= $block->escapeHtml(__('Reviews')) ?></h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content fieldset admin__fieldset fieldset-wide">
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Product')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($helper->getProductById($this->getReview()->getProductId())->getName()) ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Title')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($this->getReview()->getTitle()) ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Author')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?php
                            if ($this->getReview()->getCustomerId()) {
                                $customer = $helper->getCustomerById($this->getReview()->getCustomerId());
                                echo $customer->getFirstname() . ' ' . $customer->getLastname();
                            } else {
                                echo __('Guest');
                            }
                            ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label
                        class="admin__field-label"><span><?= $block->escapeHtml(__('Summary Rating')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value">
                            <div class="ratings">
                                <div class="rating-box">
                                    <div class="rating"
                                         style="width: <?= $block->escapeHtmlAttr(($this->getReview()->getRating() / 5 * 100)) ?>%;"></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Status')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($helper->getStatusRating($this->getReview()->getStatus())) ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Nick Name')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($this->getReview()->getNickname()) ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label
                        class="admin__field-label"><span><?= $block->escapeHtml(__('Summary of Review')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($this->getReview()->getTitle()) ?>
                        </div>
                    </div>
                </div>
                <div class="admin__field field">
                    <label class="admin__field-label"><span><?= $block->escapeHtml(__('Review')) ?></span></label>
                    <div class="admin__field-control control">
                        <div class="control-value admin__field-value">
                            <?= $block->escapeHtml($this->getReview()->getDetail()) ?>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
